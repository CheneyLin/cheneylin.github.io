
<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>常用在线API开发工具</title>
    <meta name="description" content="风雨雷电堂，全栈程序员，手游疯狂填字（曾列苹果商店中国总榜第一）开发者。">
    <meta name="keyword" content="疯狂填字,芒果轻应用,麒麟工作室,林长宇">
    <meta name="author" content="老林">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">

    <!-- Custom styles -->
    <link href="/assets/themes/bootstrap-3/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->
    <link rel="apple-touch-icon" href="/images/lcy.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/images/lcy.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/images/lcy.png" />

<script>
<!--
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?4785b99b80e16b513797fed0b7f9237d";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
-->
</script>

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">


    <!--tools -->
    <link href="tools.css" rel="stylesheet">
  </head>

  <body>
    <div id="wrap">
      <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#jb-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><img src="/images/lcy.png" width="64" height="64">风雨雷电堂</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="jb-navbar-collapse">
        <ul class="nav navbar-nav">
      	<li><a href="/archive.html">日志</a></li>
      	<li><a href="/categories.html">分类</a></li>
      	<li><a href="/projects.html">项目</a></li>
      	<li><a href="/tags.html">标签</a></li>
        </ul>
          <form class="navbar-form navbar-right" role="search" action="http://zhannei.baidu.com/cse/search" method="get" target="_blank">
          <input type="hidden" name="s" value="10670906174234479444"> <input type="hidden" name="entry" value="1">
            <div class="form-group">
              <input name="q" type="text" class="form-control" placeholder="Search">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
        </div><!-- /.navbar-collapse -->
      </nav>

<div class="container">

  
  <div class="row">
    <div class="col-xs-6">
    <textarea id="codesrc">xx</textarea>
    </div>
    <div class="col-xs-6">
    <textarea id="codedest">yy</textarea>
    </div>
  </div>
  
  <div class="row">
    <div class="col-xs-12">
    <button id="changeContent">内容对换</button>
    <button id="convertToBase64">编码Base64</button>
    <button id="convertFromBase64">解码Base64</button>
    <button id="formatJSON">检测JSON</button>
    </div>
    <div class="col-xs-12">
    <div id="results"></div>
    </div>
  </div>
  

</div>


  <div id="footer">
    <div class="container">
    <p>&copy; 2015 老林 with <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
    </p>
    </div>
  </div>


    <!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://lib.sinaapp.com/js/jquery/2.0.3/jquery-2.0.3.min.js"></script>
    <script src="jquery.cookie.js"></script>
    <script src="base64.js"></script>
    <script src="json.js"></script>
    <script src="tools.js"></script>
    <script src="/assets/themes/bootstrap-3/bootstrap/js/bootstrap.min.js"></script>
    <script>
		$(function(){
			loadCookie();
			log('载入完毕');
			});
		function log(s){
			var now=new Date();
			$('#results').html(s+' <i>'+now.toTimeString().substr(0,8));
			}
		function loadCookie(){
			var s1=$.cookie("codesrc");
			var s2=$.cookie("codedest");
			$("#codesrc").val(s1);
			$("#codedest").val(s2);
			}
		function saveCookie(){
			var s1=$("#codesrc").val();
			var s2=$("#codedest").val();
			$.cookie("codesrc",s1);
			$.cookie("codedest",s2);
			}
		$('#codesrc').dblclick(function(){
			this.select();
			})
		$('#codedest').dblclick(function(){
			this.select();
			})
		$('#changeContent').click(function(){
			var s1=$("#codesrc").val();
			var s2=$("#codedest").val();
			$("#codesrc").val(s2);
			$("#codedest").val(s1);
			saveCookie();
			});
			
		$('#convertFromBase64').click(function(){
			var s1=$("#codesrc").val();
			$("#codedest").val(utf8to16(base64decode(s1)));
      log('base64decode finish');
			saveCookie();
			});
		$('#convertToBase64').click(function(){
			var s1=$("#codesrc").val();
			$("#codedest").val(base64encode(utf16to8(s1)));
      log('base64encode finish');
			saveCookie();
			});
			
    $('#formatJSON').click(function() {
				var	reformat=true;
				var compress=false;
        var lineNum, lineMatches, lineStart, lineEnd, jsonVal, result;
        jsonVal = $('#codesrc').val();
        try {
            result = jsl.parser.parse(jsonVal);
            if (result) {
                log('检测 JSON 正常');
                if (reformat) {
                    $('#codedest').val(JSON.stringify(JSON.parse(jsonVal), null, "    "))
                }
                if (compress) {
                    $('#codedest').val(JSON.stringify(JSON.parse(jsonVal), null, ""))
                }
            } else {
                log("An unknown error occurred. Please contact Arc90.")
            }
        } catch(parseException) {
				    log(parseException.message);
        }
			saveCookie();
    });
			
			

			
    </script>
  </body>
</html>
